// Simple graphics test: create a canvas, draw a rectangle, present to PPM
function main(): int {
  let w: int = 128;
  let h: int = 64;
  let canvas: int = sys.create_canvas(w, h);
  console.log("CANVAS: ", canvas);
  if (canvas <= 0) {
    console.error("CANVAS_ERR");
  } else {
    // draw a red rectangle
    sys.draw_rect(canvas, 10, 10, 50, 30, 255, 0, 0);
    let out: string = sys.present_canvas(canvas, "");
    console.log("PRESENT: ", out);
    let exists: int = sys.file_exists(out);
    console.log("PRESENT_EXISTS: ", exists);
  }
  return 0;
}
