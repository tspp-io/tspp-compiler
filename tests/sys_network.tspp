// Simple network test for sys.http_get and tcp helpers
function main(): int {
  // Note: HTTP tests (sys.http_get) require libcurl linkage; skip here
  // to allow running TCP-only deterministic tests.
  console.log("SKIP_HTTP_TEST");

  // Basic TCP connect test (connect to local echo server on port 8000)
  let sock: int = sys.tcp_connect("0.0.0.0", 8000);
  console.log("TCP_SOCK: ", sock);
  if (sock > 0) {
    let req: string = "Hello from tspp\n";
    let sent: int = sys.tcp_send(sock, req, 16);
    console.log("TCP_SENT: ", sent);
    sys.tcp_close(sock);
  } else {
    console.error("TCP_ERR");
  }
  return 0;
}
